name: Open PR on autoupdate push

on:
  push:
    branches:
      - autoupdate

jobs:
  createPR:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Create PR to main
      uses: gh-actions/gh-action-create-pull-request@v1
      with:
        target-branch: main
        title: "Update from autoupdate"
        body: "This PR was automatically generated by a GitHub Action. It updates the manifests from the autoupdate branch."
      env:
        GITHUB_TOKEN: ${{ secrets.TOKEN }}
